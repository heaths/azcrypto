---
version: 2
interactions:
    - id: 0
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 0
        transfer_encoding: []
        trailer: {}
        host: ttyfi3p3a4yqbc.managedhsm.azure.net
        remote_addr: ""
        request_uri: ""
        body: ""
        form: {}
        headers:
            Accept:
                - application/json
            Authorization:
                - sanitized
            User-Agent:
                - azsdk-go-azkeys/v0.11.0 (go1.20.5; linux)
        url: https://ttyfi3p3a4yqbc.managedhsm.azure.net/keys/aes128/?api-version=7.4
        method: GET
      response:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        transfer_encoding: []
        trailer: {}
        content_length: 2
        uncompressed: false
        body: OK
        headers:
            Cache-Control:
                - no-cache
            Content-Length:
                - "2"
            Content-Security-Policy:
                - sanitized
            Content-Type:
                - application/json; charset=utf-8
            Strict-Transport-Security:
                - max-age=31536000; includeSubDomains
            Www-Authenticate:
                - Bearer authorization="https://login.microsoftonline.com/72f988bf-86f1-41af-91ab-2d7cd011db47", resource="https://managedhsm.azure.net"
            X-Content-Type-Options:
                - nosniff
            X-Frame-Options:
                - sanitized
            X-Ms-Build-Version:
                - sanitized
            X-Ms-Request-Id:
                - 42fd3260-115e-11ee-96ee-6045bd10041b
            X-Ms-Server-Latency:
                - sanitized
        status: 401 Unauthorized
        code: 401
        duration: 870.118834ms
    - id: 1
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 0
        transfer_encoding: []
        trailer: {}
        host: ttyfi3p3a4yqbc.managedhsm.azure.net
        remote_addr: ""
        request_uri: ""
        body: ""
        form: {}
        headers:
            Accept:
                - application/json
            Authorization:
                - sanitized
            User-Agent:
                - azsdk-go-azkeys/v0.11.0 (go1.20.5; linux)
        url: https://ttyfi3p3a4yqbc.managedhsm.azure.net/keys/aes128/?api-version=7.4
        method: GET
      response:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        transfer_encoding: []
        trailer: {}
        content_length: 365
        uncompressed: false
        body: '{"attributes":{"created":1687479325,"enabled":true,"exportable":false,"recoverableDays":7,"recoveryLevel":"CustomizedRecoverable+Purgeable","updated":1687479325},"key":{"key_ops":["sign","verify","unwrapKey","decrypt","encrypt","wrapKey","deriveKey"],"kid":"https://ttyfi3p3a4yqbc.managedhsm.azure.net/keys/aes128/572731ecb30e475b107f37030023f303","kty":"oct-HSM"}}'
        headers:
            Cache-Control:
                - no-cache
            Content-Length:
                - "365"
            Content-Security-Policy:
                - sanitized
            Content-Type:
                - application/json; charset=utf-8
            Strict-Transport-Security:
                - max-age=31536000; includeSubDomains
            X-Content-Type-Options:
                - nosniff
            X-Frame-Options:
                - sanitized
            X-Ms-Build-Version:
                - sanitized
            X-Ms-Keyvault-Network-Info:
                - conn_type=Ipv4;addr=24.16.18.89;act_addr_fam=Ipv4;
            X-Ms-Keyvault-Region:
                - uksouth
            X-Ms-Request-Id:
                - 44000c96-115e-11ee-96ee-6045bd10041b
            X-Ms-Server-Latency:
                - sanitized
        status: 200 OK
        code: 200
        duration: 161.062535ms
    - id: 2
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 83
        transfer_encoding: []
        trailer: {}
        host: ttyfi3p3a4yqbc.managedhsm.azure.net
        remote_addr: ""
        request_uri: ""
        body: '{"alg":"A128CBCPAD","iv":"AAECAwQFBgcICQoLDA0ODw","value":"YWJjZGVmZ2hpamtsbW5vcA"}'
        form: {}
        headers:
            Accept:
                - application/json
            Authorization:
                - sanitized
            Content-Length:
                - "83"
            Content-Type:
                - application/json
            User-Agent:
                - azsdk-go-azkeys/v0.11.0 (go1.20.5; linux)
        url: https://ttyfi3p3a4yqbc.managedhsm.azure.net/keys/aes128/encrypt?api-version=7.4
        method: POST
      response:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        transfer_encoding: []
        trailer: {}
        content_length: 201
        uncompressed: false
        body: '{"alg":"A128CBCPAD","iv":"AAECAwQFBgcICQoLDA0ODw","kid":"https://ttyfi3p3a4yqbc.managedhsm.azure.net/keys/aes128/572731ecb30e475b107f37030023f303","value":"KHMsayXfAKlZMzmv3NCX9GkVCOHpOU9Vn219lk2M2j8"}'
        headers:
            Cache-Control:
                - no-cache
            Content-Length:
                - "201"
            Content-Security-Policy:
                - sanitized
            Content-Type:
                - application/json; charset=utf-8
            Strict-Transport-Security:
                - max-age=31536000; includeSubDomains
            X-Content-Type-Options:
                - nosniff
            X-Frame-Options:
                - sanitized
            X-Ms-Keyvault-Network-Info:
                - conn_type=Ipv4;addr=24.16.18.89;act_addr_fam=Ipv4;
            X-Ms-Keyvault-Region:
                - uksouth
            X-Ms-Request-Id:
                - 44196290-115e-11ee-96ee-6045bd10041b
            X-Ms-Server-Latency:
                - sanitized
        status: 200 OK
        code: 200
        duration: 164.581451ms
    - id: 3
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 104
        transfer_encoding: []
        trailer: {}
        host: ttyfi3p3a4yqbc.managedhsm.azure.net
        remote_addr: ""
        request_uri: ""
        body: '{"alg":"A128CBCPAD","iv":"AAECAwQFBgcICQoLDA0ODw","value":"KHMsayXfAKlZMzmv3NCX9GkVCOHpOU9Vn219lk2M2j8"}'
        form: {}
        headers:
            Accept:
                - application/json
            Authorization:
                - sanitized
            Content-Length:
                - "104"
            Content-Type:
                - application/json
            User-Agent:
                - azsdk-go-azkeys/v0.11.0 (go1.20.5; linux)
        url: https://ttyfi3p3a4yqbc.managedhsm.azure.net/keys/aes128/decrypt?api-version=7.4
        method: POST
      response:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        transfer_encoding: []
        trailer: {}
        content_length: 150
        uncompressed: false
        body: '{"alg":"A128CBCPAD","kid":"https://ttyfi3p3a4yqbc.managedhsm.azure.net/keys/aes128/572731ecb30e475b107f37030023f303","value":"YWJjZGVmZ2hpamtsbW5vcA"}'
        headers:
            Cache-Control:
                - no-cache
            Content-Length:
                - "150"
            Content-Security-Policy:
                - sanitized
            Content-Type:
                - application/json; charset=utf-8
            Strict-Transport-Security:
                - max-age=31536000; includeSubDomains
            X-Content-Type-Options:
                - nosniff
            X-Frame-Options:
                - sanitized
            X-Ms-Keyvault-Network-Info:
                - conn_type=Ipv4;addr=24.16.18.89;act_addr_fam=Ipv4;
            X-Ms-Keyvault-Region:
                - uksouth
            X-Ms-Request-Id:
                - 4432d39c-115e-11ee-96ee-6045bd10041b
            X-Ms-Server-Latency:
                - sanitized
        status: 200 OK
        code: 200
        duration: 166.735587ms
